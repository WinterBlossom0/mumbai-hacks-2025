<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Truth Lens - AI-Powered Fact Verification</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/layout.css">

    <!-- Clerk.js SDK -->
    <script async crossorigin="anonymous"
        data-clerk-publishable-key="pk_test_aG9uZXN0LWJ1Zy00Mi5jbGVyay5hY2NvdW50cy5kZXYk"
        src="https://cdn.jsdelivr.net/npm/@clerk/clerk-js@5/dist/clerk.browser.js"></script>
</head>

<body>
    <!-- Eye Cursor -->
    <div class="eye-cursor" id="eye-cursor"></div>

    <div class="background-animation">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
    </div>

    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <svg class="logo-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"
                        fill="currentColor" />
                </svg>
                <span>Truth Lens</span>
            </div>
            <div class="nav-links">
                <a href="#" class="nav-link active" data-page="home">
                    <span class="nav-icon">üè†</span>
                    Home
                </a>
                <a href="#" class="nav-link" data-page="verify">
                    <span class="nav-icon">üîç</span>
                    Verify
                </a>
                <a href="#" class="nav-link" data-page="history">
                    <span class="nav-icon">üìú</span>
                    History
                </a>
                <a href="#" class="nav-link" data-page="reddit">
                    <span class="nav-icon">ü§ñ</span>
                    Reddit
                </a>
            </div>

            <!-- User Authentication UI -->
            <div class="user-section">
                <div id="signed-out" class="auth-buttons">
                    <button id="sign-in-btn" class="auth-btn sign-in">Sign In with Google</button>
                </div>

                <div id="signed-in" class="user-info" style="display: none;">
                    <div class="user-avatar-wrapper">
                        <img id="user-avatar" class="user-avatar" src="" alt="User" />
                        <span id="user-email" class="user-email"></span>
                    </div>
                    <button id="sign-out-btn" class="auth-btn sign-out">Sign Out</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- News Ticker Section -->
    <div class="news-ticker-container">
        <div class="ticker-band" id="ticker-band-1" style="display: flex; gap: 2rem; white-space: nowrap;"></div>
        <div class="ticker-band" id="ticker-band-2" style="display: flex; gap: 2rem; white-space: nowrap;"></div>
        <div class="ticker-band" id="ticker-band-3" style="display: flex; gap: 2rem; white-space: nowrap;"></div>
    </div>

    <main class="container">
        <!-- Home Page -->
        <div id="home-page" class="page active">
            <!-- Category Filter Bar (Top) -->
            <div class="category-filter-bar">
                <button class="filter-btn active" data-category="all">
                    <span class="filter-icon">üìã</span>
                    All
                </button>
                <button class="filter-btn" data-category="technology">
                    <span class="filter-icon">üíª</span>
                    Technology
                </button>
                <button class="filter-btn" data-category="politics">
                    <span class="filter-icon">üèõÔ∏è</span>
                    Politics
                </button>
                <button class="filter-btn" data-category="sports">
                    <span class="filter-icon">‚öΩ</span>
                    Sports
                </button>
                <button class="filter-btn" data-category="finance">
                    <span class="filter-icon">üí∞</span>
                    Finance
                </button>
                <button class="filter-btn" data-category="crime">
                    <span class="filter-icon">üö®</span>
                    Crime
                </button>
            </div>

            <div class="hero">
                <div class="hero-icon">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"
                            fill="currentColor" />
                    </svg>
                </div>
                <h1>Welcome to <span class="gradient-text">Truth Lens</span></h1>
                <p>AI-Powered Fact Verification System</p>
                <p class="hero-subtitle">Uncover the truth behind any claim with advanced AI analysis</p>
                <button class="cta-button" onclick="document.querySelector('[data-page=verify]').click()">
                    Start Verifying
                    <span class="arrow">‚Üí</span>
                </button>
            </div>

            <div class="public-feed-section">
                <h2>Recent Public Verifications</h2>
                <div id="public-feed" class="public-feed"></div>
            </div>
        </div>

        <!-- Verify Page -->
        <div id="verify-page" class="page">
            <div class="verify-container">
                <h1>Verify Content</h1>

                <div class="input-type-selector">
                    <button class="type-btn active" data-type="text">Text</button>
                    <button class="type-btn" data-type="url">URL</button>
                </div>

                <div class="input-container">
                    <textarea id="text-input" class="input-field" placeholder="Enter text to verify..."
                        rows="8"></textarea>
                    <input id="url-input" class="input-field hidden" type="url" placeholder="Enter URL to verify...">
                </div>

                <button id="verify-btn" class="verify-btn">Verify</button>

                <div id="loading" class="loading hidden">
                    <div class="spinner"></div>
                    <p>Analyzing content... This may take a minute.</p>
                </div>

                <div id="result" class="result hidden">
                    <div class="verdict-card">
                        <div id="verdict-badge" class="verdict-badge"></div>
                        <h2 id="verdict-text"></h2>
                    </div>

                    <div class="analysis-section">
                        <h3>Analysis</h3>
                        <p id="reasoning-text"></p>
                    </div>

                    <div class="claims-section">
                        <h3>Extracted Claims</h3>
                        <ul id="claims-list"></ul>
                    </div>

                    <div class="sources-section">
                        <h3>Sources Analyzed</h3>
                        <div id="sources-list"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- History Page -->
        <div id="history-page" class="page">
            <div class="history-container">
                <h1>Verification History</h1>
                <div id="history-list" class="history-list"></div>
            </div>
        </div>

        <!-- Reddit Page -->
        <div id="reddit-page" class="page">
            <div class="history-container">
                <h1>r/eyeoftruth Feed</h1>
                <p style="color: var(--text-secondary); margin-bottom: 2rem;">
                    Live verified posts from our subreddit. False information is automatically removed.
                </p>
                <div id="reddit-feed" class="public-feed"></div>
            </div>
        </div>
    </main>

    <script src="auth.js"></script>
    <script src="app.js"></script>
</body>

</html>